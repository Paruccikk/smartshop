<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Adicionar Produto - Estoque</title>
  <link rel="stylesheet" href="css/adicionar-produto.css" />
  <link rel="stylesheet" href="css/menu.css" />
</head>
<body>

  <div id="menu-container"></div>

  <h1>Adicionar Produto</h1>

  <form id="formProduto">
    <label for="nome">Nome</label>
    <input type="text" id="nome" name="nome" placeholder="Nome do produto" required />

    <label for="valor">Valor (R$)</label>
    <input type="number" step="0.01" id="valor" name="valor" placeholder="Valor do produto" required />

    <label for="validade">Validade</label>
    <input type="date" id="validade" name="validade" />

    <label for="codigoBarras">Código de Barras</label>
    <input type="text" id="codigoBarras" name="codigoBarras" placeholder="Código de barras" />
    <button type="button" id="btnScan">Ler código com câmera</button>

    <label for="quantidade">Quantidade</label>
    <input type="number" id="quantidade" name="quantidade" placeholder="Quantidade em estoque" required />

    <label for="estoqueMinimo">Estoque Mínimo</label>
    <input type="number" id="estoqueMinimo" name="estoqueMinimo" placeholder="Quantidade mínima" required />

    <!-- Categoria (wrapper + seta) -->
    <label for="categoria">Categoria</label>
    <div class="select-wrapper">
      <select id="categoria" name="categoria">
        <option value="">-- Selecionar categoria --</option>
        <!-- options serão preenchidas por JS -->
      </select>
      <span class="select-arrow">▾</span>
    </div>

    <label for="novaCategoria">Ou crie nova categoria</label>
    <input type="text" id="novaCategoria" name="novaCategoria" placeholder="Nova categoria (opcional)" class="nova-categoria" />

    <button type="submit">Adicionar Produto</button>
  </form>

  <div id="mensagem"></div>

  <!-- Scanner -->
  <div id="scanner-container">
    <div id="video"></div>
    <button id="btnCloseScanner">Fechar Scanner</button>
  </div>

  <script type="module" src="js/adicionar-produto.js"></script>
  <script>
  // Importa o menu HTML dentro do container
  fetch('menu.html')
    .then(res => res.text())
    .then(html => {
      document.getElementById('menu-container').innerHTML = html;
      // Depois que o menu for inserido, importa o js do menu:
      const script = document.createElement('script');
      script.src = 'js/menu.js';
      document.body.appendChild(script);
    });
</script> 
</body>
</html>
